(this.webpackJsonpreact_polluted_cities=this.webpackJsonpreact_polluted_cities||[]).push([[0],{27:function(n,e,t){n.exports=t(51)},51:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(22),i=t.n(o),c=(t(32),t(1)),l=t(2);function u(){var n=Object(c.a)(['\n\t*, *::before, *::after {\n\t\tbox-sizing: border-box;\n\t\t-webkit-font-smoothing: antialiased;\n  \t-moz-osx-font-smoothing: grayscale;\n\t}\t\n\n\tbody {\n\t\tfont-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";\n\t}\n\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border: 0;\n  }\n']);return u=function(){return n},n}var s=Object(l.a)(u());function m(){var n=Object(c.a)(["\n  margin: 0 auto;\n  padding: 0 30px;\n  text-align: center;\n\n  @media (min-width: 576px) {\n    max-width: 600px;\n  }\n"]);return m=function(){return n},n}var d=l.b.main(m()),p=function(n){var e=n.children;return a.a.createElement(d,null,a.a.createElement("h1",null,"The most polluted cities"),a.a.createElement("p",null,"Check 10 the most polluted cities in Poland, Germany, Spain or France."),a.a.createElement(s,null),e)},f=t(10),b=t.n(f),g=t(26),v=t(6),h=t(5),y=t(8),x=t.n(y),E=["Poland","Germany","Spain","France"],j=["PL","DE","ES","FR"],O=function(n){return Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&")},w={limit:500,order_by:"value",sort:"desc",parameter:"pm25",date_from:function(n){var e=n.getUTCFullYear(),t="0".concat(n.getUTCMonth()+1).slice(-2),r="0".concat(n.getUTCDate()).slice(-2);return"".concat(e,"-").concat(t,"-").concat(r)}(new Date)},k=function(n){var e=Object(h.a)(Object(h.a)({},w),{},{country:n}),t=O(e);return x()("".concat("https://api.openaq.org/v1").concat("/measurements","?").concat(t))},S={action:"query",format:"json",explaintext:"",redirects:1,prop:"extracts",exintro:"",exsentences:2},C=function(n){var e=Object(h.a)(Object(h.a)({},S),{},{titles:n}),t=O(e);return x()("".concat("https://en.wikipedia.org/w/api.php?origin=*","&").concat(t))},F=a.a.createContext(),L=t(4),I=function(n){var e=n.country;return a.a.createElement("option",{value:e})},N=function(n){var e=n.countries,t=Object(L.a)(n,["countries"]);return a.a.createElement("datalist",t,e.map((function(n){return a.a.createElement(I,{key:n,country:n})})))};function U(){var n=Object(c.a)(["\n  display: inline-block;\n  font-weight: 400;\n  color: #fff;\n  text-align: center;\n  vertical-align: middle;\n  user-select: none;\n  background-color: #007bff;\n  border: 1px solid #007bff;;\n  padding: .375rem .75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: .25rem;\n  transition: color .15s;\n\n  &:disabled {\n    opacity: .65;\n  }\n\n  &:hover {\n    cursor: pointer;\n  } \n"]);return U=function(){return n},n}var _=l.b.button(U()),q=function(n){var e=n.type,t=Object(L.a)(n,["type"]);return a.a.createElement(_,Object.assign({type:e},t))};function z(){var n=Object(c.a)(["\n  width: 100%;\n  display: inline-block;\n"]);return z=function(){return n},n}var D=l.b.label(z()),P=function(n){var e=n.children,t=n.labelName,r=n.srOnly;return a.a.createElement(D,null,r?a.a.createElement("span",{className:"sr-only"},t):a.a.createElement(a.a.Fragment,null,t),e)};function T(){var n=Object(c.a)(["\n  display: block;\n  width: 100%;\n  height: calc(1.5em + .75rem + 2px);\n  padding: .375rem .75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: .25rem;\n"]);return T=function(){return n},n}var M=l.b.input(T()),R=function(n){var e=n.type,t=Object(L.a)(n,["type"]);return a.a.createElement(M,Object.assign({type:e},t))};function A(){var n=Object(c.a)(["\n  position: relative;\n  flex: 0 0 70%;\n\n  @media (min-width: 400px) {\n    margin-right: 4px;\n  }\n"]);return A=function(){return n},n}function B(){var n=Object(c.a)(["\n  margin-top: 20px;\n  margin-bottom: 15px;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n\n  @media (min-width: 400px) {\n    flex-direction: row;\n    justify-content: center;\n    align-items: flex-start;\n  }\n"]);return B=function(){return n},n}var G=l.b.form(B()),J=l.b.div(A()),H=function(n){var e=n.role,t=Object(r.useContext)(F),o=t.doFetch,i=t.isLoading;return a.a.createElement(G,{role:e,onSubmit:function(n){n.preventDefault();var e=n.target.querySelector("input[name='country']").value;o(e)}},a.a.createElement(J,null,a.a.createElement(P,{srOnly:!0,labelName:"Country name:"},a.a.createElement(R,{autoComplete:"off",type:"text",name:"country",list:"countries"}),a.a.createElement(N,{id:"countries",countries:E}))),a.a.createElement(q,{type:"submit",disabled:i},"Search"))};function W(){var n=Object(c.a)(["\n  width: 100%;\n  height: 18px;\n  font-weight: 700;\n  color: red;\n"]);return W=function(){return n},n}var Y=l.b.p(W()),K=function(n){var e=n.children,t=n.isError;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,null,t),a.a.createElement(H,{role:"search"}),e)};function Q(){var n=Object(c.a)(["\n  margin-bottom: -1px;\n  padding: .75rem 1.25rem;\n  background-color: #fff;\n  border: 1px solid rgba(0,0,0,.125);\n\n  :first-child {\n    border-top-left-radius: .25rem;\n    border-top-right-radius: .25rem;\n  }\n\n  :last-child {\n    margin-bottom: 0;\n    border-bottom-right-radius: .25rem;\n    border-bottom-left-radius: .25rem;\n  }\n"]);return Q=function(){return n},n}var V=l.b.li(Q()),X=function(n){var e=n.title,t=n.description;return a.a.createElement(V,null,a.a.createElement("h2",null,e),a.a.createElement("p",null,t))};function Z(){var n=Object(c.a)(["\n  padding: 0;\n  list-style: none;\n"]);return Z=function(){return n},n}var $=l.b.ul(Z());function nn(){var n=Object(c.a)(["\n  margin-top: 40px;\n"]);return nn=function(){return n},n}var en=Object(l.b)($)(nn()),tn=function(n){var e=n.cities;return a.a.createElement(a.a.Fragment,null,e.length>0&&a.a.createElement(en,null,e.map((function(n){var e=n.pageid,t=n.title,r=n.extract;return a.a.createElement(X,{key:e,title:t,description:r})}))))};function rn(){var n=Object(c.a)(["\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: text-bottom;\n  border: .25em solid currentColor;\n  border-right-color: transparent;\n  border-radius: 50%;\n  animation: spinner-border .75s linear infinite;\n\n  @keyframes spinner-border {\n    to { transform: rotate(360deg); }\n  }\n"]);return rn=function(){return n},n}var an=l.b.div(rn()),on=function(){return a.a.createElement(an,{"aria-busy":"true",role:"progressbar"},a.a.createElement("span",{className:"sr-only"},"Loading content..."))},cn=function(n){var e=n.filter((function(n,e,t){return e===t.findIndex((function(e){return e.city===n.city}))}));return e.splice(10),e},ln=function(n){var e=n.map((function(n){return n.city.split("/")[0]}));return encodeURIComponent(e.join("|"))},un=function(n){var e=n.toLowerCase(),t=E.findIndex((function(n){return n.toLowerCase()===e}));return j[t]},sn=function(){var n=function(){var n=Object(r.useState)([]),e=Object(v.a)(n,2),t=e[0],a=e[1],o=Object(r.useState)(!1),i=Object(v.a)(o,2),c=i[0],l=i[1],u=Object(r.useState)(""),s=Object(v.a)(u,2),m=s[0],d=s[1];return[{data:t,isLoading:c,isError:m},function(){var n=Object(g.a)(b.a.mark((function n(e){var t,r,o,i,c,u,s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===(t=un(e))){n.next=26;break}return a([]),d(""),l(!0),n.prev=5,n.next=8,k(t);case 8:return r=n.sent,o=r.data.results,i=cn(o),c=ln(i),n.next=14,C(c);case 14:u=n.sent,s=u.data.query.pages,l(!1),a(Object.values(s)),n.next=24;break;case 20:n.prev=20,n.t0=n.catch(5),d("Something went wrong, try again..."),l(!1);case 24:n.next=27;break;case 26:d("Wrong country provided");case 27:case"end":return n.stop()}}),n,null,[[5,20]])})));return function(e){return n.apply(this,arguments)}}()]}(),e=Object(v.a)(n,2),t=e[0],o=t.data,i=t.isLoading,c=t.isError,l=e[1];return a.a.createElement(F.Provider,{value:{doFetch:l,isLoading:i}},a.a.createElement(K,{isError:c},i&&a.a.createElement(on,null),a.a.createElement(tn,{cities:o})))},mn=function(){return a.a.createElement(p,null,a.a.createElement(sn,null))};i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(mn,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.bd4e4c2b.chunk.js.map